<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">OpencypherCoq.KleeneTranslation</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">RelationAlgebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">syntax</span> <span class="id" title="library">matrix</span> <span class="id" title="library">bmx</span> <span class="id" title="library">ordinal</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">RelationAlgebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">monoid</span> <span class="id" title="library">boolean</span> <span class="id" title="library">prop</span> <span class="id" title="library">sups</span> <span class="id" title="library">bmx</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#"><span class="id" title="library">BinNums</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#"><span class="id" title="library">BinInt</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Notations.html#"><span class="id" title="library">Notations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Ltac.html#"><span class="id" title="library">Ltac</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#"><span class="id" title="library">Logic</span></a>.<br/>
<span class="comment">(*&nbsp;From&nbsp;RelationAlgebra&nbsp;Require&nbsp;Import&nbsp;kleene&nbsp;boolean&nbsp;sups&nbsp;matrix.*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Cypher.html#"><span class="id" title="library">Cypher</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.PropertyGraph.html#"><span class="id" title="library">PropertyGraph</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph"><span class="id" title="module">PropertyGraph</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Cypher.html#Pattern"><span class="id" title="module">Pattern</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.PGMatrixExtraction.html#"><span class="id" title="library">PGMatrixExtraction</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Utils.html#"><span class="id" title="library">Utils</span></a>.<br/>

<br/>
</div>

<div class="doc">
Build from current pattern matrix expression 
<div class="paragraph"> </div>

 Auxiliary function adding to the matrix expression necessary operations corresponding to the edge pattern part.  In fact, it is matrix addition 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="types_to_expr" class="idref" href="#types_to_expr"><span class="id" title="definition">types_to_expr</span></a> (<a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="etypes:2" class="idref" href="#etypes:2"><span class="id" title="binder">etypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.label"><span class="id" title="definition">label</span></a>) (<a id="tr:3" class="idref" href="#tr:3"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
<span class="id" title="inductive">expr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> (<a id="y:5" class="idref" href="#y:5"><span class="id" title="binder">y</span></a> : <span class="id" title="inductive">expr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">e_pls</span> (<span class="id" title="keyword">if</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#tr:3"><span class="id" title="variable">tr</span></a> <span class="id" title="keyword">then</span> <span class="id" title="constructor">e_cnv</span> (<span class="id" title="constructor">e_var</span> (<a class="idref" href="OpencypherCoq.Utils.html#elabel"><span class="id" title="constructor">elabel</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#x:4"><span class="id" title="variable">x</span></a>)) <span class="id" title="keyword">else</span> <span class="id" title="constructor">e_var</span> (<a class="idref" href="OpencypherCoq.Utils.html#elabel"><span class="id" title="constructor">elabel</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#x:4"><span class="id" title="variable">x</span></a>)) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#y:5"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">e_zer</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:1"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.KleeneTranslation.html#etypes:2"><span class="id" title="variable">etypes</span></a>.<br/>

<br/>
</div>

<div class="doc">
Similar function for vertex pattern part. Need to multiply all by diagonal matrices with corresponding conditions 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="labels_to_expr" class="idref" href="#labels_to_expr"><span class="id" title="definition">labels_to_expr</span></a> (<a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="vlabels:7" class="idref" href="#vlabels:7"><span class="id" title="binder">vlabels</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.label"><span class="id" title="definition">label</span></a>) : <br/>
<span class="id" title="inductive">expr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> (<a id="y:9" class="idref" href="#y:9"><span class="id" title="binder">y</span></a> : <span class="id" title="inductive">expr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a>)  (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a>) =&gt; <span class="id" title="constructor">e_dot</span> (<span class="id" title="constructor">e_var</span> (<a class="idref" href="OpencypherCoq.Utils.html#vlabel"><span class="id" title="constructor">vlabel</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#x:8"><span class="id" title="variable">x</span></a>)) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#y:9"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">e_one</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:6"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.KleeneTranslation.html#vlabels:7"><span class="id" title="variable">vlabels</span></a>.<br/>

<br/>
</div>

<div class="doc">
Auxiliary function for several sequential edges without vertices conditions between it. It also complements current matrix expression
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="k_edges" class="idref" href="#k_edges"><span class="id" title="definition">k_edges</span></a> (<a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="etypes:11" class="idref" href="#etypes:11"><span class="id" title="binder">etypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.label"><span class="id" title="definition">label</span></a>) (<a id="tr:12" class="idref" href="#tr:12"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="k:13" class="idref" href="#k:13"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#k:13"><span class="id" title="variable">k</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <span class="id" title="constructor">e_one</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:10"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k'</span> =&gt; <span class="id" title="constructor">e_dot</span> (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#types_to_expr"><span class="id" title="definition">types_to_expr</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:10"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#etypes:11"><span class="id" title="variable">etypes</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#tr:12"><span class="id" title="variable">tr</span></a>) (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#k_edges:14"><span class="id" title="definition">k_edges</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:10"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#etypes:11"><span class="id" title="variable">etypes</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#tr:12"><span class="id" title="variable">tr</span></a> <span class="id" title="var">k'</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Next function builds matrix expression from list of edge patterns using previous functions and inductive pattern construction 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="edge_pattern_to_matrix" class="idref" href="#edge_pattern_to_matrix"><span class="id" title="definition">edge_pattern_to_matrix</span></a> (<a id="n:16" class="idref" href="#n:16"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="p:17" class="idref" href="#p:17"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.pedge"><span class="id" title="record">Pattern.pedge</span></a>) :<br/>
<span class="id" title="inductive">expr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#p:17"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <span class="id" title="constructor">e_one</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.pedge"><span class="id" title="record">pedge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="e:20" class="idref" href="#e:20"><span class="id" title="binder">e</span></a> := <span class="id" title="keyword">match</span> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.edir"><span class="id" title="projection">edir</span></a>) <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.IN"><span class="id" title="constructor">IN</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#k_edges"><span class="id" title="definition">k_edges</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.elabels"><span class="id" title="projection">elabels</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.enum"><span class="id" title="projection">enum</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.OUT"><span class="id" title="constructor">OUT</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#k_edges"><span class="id" title="definition">k_edges</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.elabels"><span class="id" title="projection">elabels</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.enum"><span class="id" title="projection">enum</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.BOTH"><span class="id" title="constructor">BOTH</span></a> =&gt; <span class="id" title="constructor">e_pls</span> (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#k_edges"><span class="id" title="definition">k_edges</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.elabels"><span class="id" title="projection">elabels</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.enum"><span class="id" title="projection">enum</span></a>)) (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#k_edges"><span class="id" title="definition">k_edges</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.elabels"><span class="id" title="projection">elabels</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.enum"><span class="id" title="projection">enum</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="constructor">e_dot</span> (<span class="id" title="constructor">e_dot</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#e:20"><span class="id" title="variable">e</span></a> (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#labels_to_expr"><span class="id" title="definition">labels_to_expr</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <span class="id" title="var">pedge</span>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.evertex"><span class="id" title="projection">evertex</span></a>).(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.vlabels"><span class="id" title="projection">vlabels</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="OpencypherCoq.KleeneTranslation.html#edge_pattern_to_matrix:18"><span class="id" title="definition">edge_pattern_to_matrix</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:16"><span class="id" title="variable">n</span></a> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Constructs matrix expression responsible for the start vertex in the pattern 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="pattern_to_matrix" class="idref" href="#pattern_to_matrix"><span class="id" title="definition">pattern_to_matrix</span></a> (<a id="n:21" class="idref" href="#n:21"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="p:22" class="idref" href="#p:22"><span class="id" title="binder">p</span></a> : <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.t"><span class="id" title="record">Pattern.t</span></a>) :<br/>
<span class="id" title="inductive">expr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:21"><span class="id" title="variable">n</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:21"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:21"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:21"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="constructor">e_dot</span> (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#labels_to_expr"><span class="id" title="definition">labels_to_expr</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:21"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#p:22"><span class="id" title="variable">p</span></a>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.start"><span class="id" title="projection">start</span></a>).(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.vlabels"><span class="id" title="projection">vlabels</span></a>)) (<a class="idref" href="OpencypherCoq.KleeneTranslation.html#edge_pattern_to_matrix"><span class="id" title="definition">edge_pattern_to_matrix</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:21"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#p:22"><span class="id" title="variable">p</span></a>.(<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.ledges"><span class="id" title="projection">ledges</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;http://perso.ens-lyon.fr/damien.pous/ra/html/RelationAlgebra.syntax.htmls.e.f *)</span><br/>
<span class="comment">(*&nbsp;Use&nbsp;as&nbsp;a&nbsp;variable&nbsp;f.&nbsp;*&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="e_var2matrix" class="idref" href="#e_var2matrix"><span class="id" title="definition">e_var2matrix</span></a> (<a id="g:23" class="idref" href="#g:23"><span class="id" title="binder">g</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.t"><span class="id" title="record">PropertyGraph.t</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="l:24" class="idref" href="#l:24"><span class="id" title="binder">l</span></a> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#l:24"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Utils.html#vlabel"><span class="id" title="constructor">vlabel</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="OpencypherCoq.PGMatrixExtraction.html#pg_extract_lmatrices"><span class="id" title="definition">pg_extract_lmatrices</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:23"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vertices"><span class="id" title="projection">vertices</span></a>)) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:23"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vlab"><span class="id" title="projection">vlab</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#l:24"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Utils.html#elabel"><span class="id" title="constructor">elabel</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpencypherCoq.PGMatrixExtraction.html#pg_extract_tmatrices"><span class="id" title="definition">pg_extract_tmatrices</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:23"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vertices"><span class="id" title="projection">vertices</span></a>)) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:23"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.edges"><span class="id" title="projection">edges</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:23"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.elab"><span class="id" title="projection">elab</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:23"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.st"><span class="id" title="projection">st</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#l:24"><span class="id" title="variable">l</span></a> <br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Substituting a graph represented as an adjacency graph into a matrix expression corresponding to a search pattern 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="e_var2matrix_real" class="idref" href="#e_var2matrix_real"><span class="id" title="definition">e_var2matrix_real</span></a> (<a id="g:26" class="idref" href="#g:26"><span class="id" title="binder">g</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.t"><span class="id" title="record">PropertyGraph.t</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> : <a class="idref" href="OpencypherCoq.Utils.html#Label"><span class="id" title="inductive">Label</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">bmx</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vertices"><span class="id" title="projection">vertices</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vertices"><span class="id" title="projection">vertices</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="l:28" class="idref" href="#l:28"><span class="id" title="binder">l</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#l:28"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Utils.html#vlabel"><span class="id" title="constructor">vlabel</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="OpencypherCoq.PGMatrixExtraction.html#pg_extract_lmatrices"><span class="id" title="definition">pg_extract_lmatrices</span></a>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vertices"><span class="id" title="projection">vertices</span></a>)) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vlab"><span class="id" title="projection">vlab</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#l:28"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="OpencypherCoq.Utils.html#elabel"><span class="id" title="constructor">elabel</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpencypherCoq.PGMatrixExtraction.html#pg_extract_tmatrices"><span class="id" title="definition">pg_extract_tmatrices</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.vertices"><span class="id" title="projection">vertices</span></a>)) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.edges"><span class="id" title="projection">edges</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.elab"><span class="id" title="projection">elab</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#g:26"><span class="id" title="variable">g</span></a>.(<a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.st"><span class="id" title="projection">st</span></a>) <a class="idref" href="OpencypherCoq.KleeneTranslation.html#l:28"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
if at least one element in a matrix row i true then true, else false 
</div>
<div class="code">
<span class="id" title="keyword">Print</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="eval_res" class="idref" href="#eval_res"><span class="id" title="definition">eval_res</span></a> {<a id="n:30" class="idref" href="#n:30"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>} (<a id="M:31" class="idref" href="#M:31"><span class="id" title="binder">M</span></a>: <span class="id" title="abbreviation">bmx</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:30"><span class="id" title="variable">n</span></a>) : <span class="id" title="record">ord</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:32" class="idref" href="#i:32"><span class="id" title="binder">i</span></a> =&gt; <span class="id" title="definition">sup</span> (<span class="id" title="keyword">fun</span> <a id="j:33" class="idref" href="#j:33"><span class="id" title="binder">j</span></a> =&gt; <a class="idref" href="OpencypherCoq.KleeneTranslation.html#M:31"><span class="id" title="variable">M</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#i:32"><span class="id" title="variable">i</span></a> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#j:33"><span class="id" title="variable">j</span></a>) (<span class="id" title="definition">ordinal.seq</span> <a class="idref" href="OpencypherCoq.KleeneTranslation.html#n:30"><span class="id" title="variable">n</span></a>).<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
