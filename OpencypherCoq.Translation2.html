<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">OpencypherCoq.Translation2</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Utils.html#"><span class="id" title="library">Utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Maps.html#"><span class="id" title="library">Maps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.PropertyGraph.html#"><span class="id" title="library">PropertyGraph</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Cypher.html#"><span class="id" title="library">Cypher</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.BindingTable.html#"><span class="id" title="library">BindingTable</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Semantics.html#"><span class="id" title="library">Semantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.PatternE.html#"><span class="id" title="library">PatternE</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.ExecutionPlan.html#"><span class="id" title="library">ExecutionPlan</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Translation.html#"><span class="id" title="library">Translation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Maps.html#PartialMap.Notations"><span class="id" title="module">PartialMap.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Maps.html#TotalMap.Notations"><span class="id" title="module">TotalMap.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph"><span class="id" title="module">PropertyGraph</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan"><span class="id" title="module">ExecutionPlan</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.ExecutionPlan.html#FilterMode"><span class="id" title="module">FilterMode</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExpandMode"><span class="id" title="module">ExpandMode</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode"><span class="id" title="module">MatchMode</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.UpdateNotations"><span class="id" title="module">UpdateNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="translate_start" class="idref" href="#translate_start"><span class="id" title="definition">translate_start</span></a> (<a id="pv:1" class="idref" href="#pv:1"><span class="id" title="binder">pv</span></a> : <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.pvertex"><span class="id" title="record">Pattern.pvertex</span></a>) : <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.t"><span class="id" title="inductive">ExecutionPlan.t</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.Translation.html#translate_pvertex"><span class="id" title="definition">translate_pvertex</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:1"><span class="id" title="variable">pv</span></a> (<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.ScanVertices"><span class="id" title="constructor">ScanVertices</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.vname"><span class="id" title="projection">Pattern.vname</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:1"><span class="id" title="variable">pv</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="translate_pattern'" class="idref" href="#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> (<a id="pi:2" class="idref" href="#pi:2"><span class="id" title="binder">pi</span></a> : <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.t"><span class="id" title="inductive">Pattern.t</span></a>) : <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.t"><span class="id" title="inductive">ExecutionPlan.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pis':3" class="idref" href="#pis':3"><span class="id" title="binder">pis'</span></a> := <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_all_with_paths"><span class="id" title="definition">PatternSlice.split_all_with_paths</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:2"><span class="id" title="variable">pi</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="pv:4" class="idref" href="#pv:4"><span class="id" title="binder">pv</span></a> := <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.first"><span class="id" title="definition">Pattern.first</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:2"><span class="id" title="variable">pi</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="start:5" class="idref" href="#start:5"><span class="id" title="binder">start</span></a> := <a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:4"><span class="id" title="variable">pv</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> '<a id="pat:8" class="idref" href="#pat:8"><span class="id" title="binder">(</span></a><a id="pat:8" class="idref" href="#pat:8"><span class="id" title="binder">pi'</span></a><a id="pat:8" class="idref" href="#pat:8"><span class="id" title="binder">,</span></a> <a id="pat:8" class="idref" href="#pat:8"><span class="id" title="binder">pi0</span></a><a id="pat:8" class="idref" href="#pat:8"><span class="id" title="binder">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.Traverse"><span class="id" title="constructor">Traverse</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi':7"><span class="id" title="variable">pi'</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.vname"><span class="id" title="projection">Pattern.vname</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.last"><span class="id" title="definition">Pattern.last</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi0:6"><span class="id" title="variable">pi0</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#f:9"><span class="id" title="variable">f</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#start:5"><span class="id" title="variable">start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pis':3"><span class="id" title="variable">pis'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="translate_pattern" class="idref" href="#translate_pattern"><span class="id" title="definition">translate_pattern</span></a> (<a id="pi:10" class="idref" href="#pi:10"><span class="id" title="binder">pi</span></a> : <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.t"><span class="id" title="inductive">Pattern.t</span></a>) : <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.t"><span class="id" title="inductive">ExecutionPlan.t</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.ReturnAll"><span class="id" title="constructor">ReturnAll</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:10"><span class="id" title="variable">pi</span></a>).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_pattern'_ind" class="idref" href="#translate_pattern'_ind"><span class="id" title="lemma">translate_pattern'_ind</span></a><br/>
&nbsp;&nbsp;(<a id="P:11" class="idref" href="#P:11"><span class="id" title="binder">P</span></a> : <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.t"><span class="id" title="inductive">Pattern.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.t"><span class="id" title="inductive">ExecutionPlan.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hstart:13" class="idref" href="#Hstart:13"><span class="id" title="binder">Hstart</span></a> : <span class="id" title="keyword">forall</span> <a id="pv:12" class="idref" href="#pv:12"><span class="id" title="binder">pv</span></a>, <a class="idref" href="OpencypherCoq.Translation2.html#P:11"><span class="id" title="variable">P</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.start"><span class="id" title="constructor">Pattern.start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:12"><span class="id" title="variable">pv</span></a>) (<a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:12"><span class="id" title="variable">pv</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htraverse:17" class="idref" href="#Htraverse:17"><span class="id" title="binder">Htraverse</span></a> : <span class="id" title="keyword">forall</span> <a id="pi:14" class="idref" href="#pi:14"><span class="id" title="binder">pi</span></a> <a id="pi':15" class="idref" href="#pi':15"><span class="id" title="binder">pi'</span></a> <a id="pi0:16" class="idref" href="#pi0:16"><span class="id" title="binder">pi0</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split"><span class="id" title="definition">PatternSlice.split</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:14"><span class="id" title="variable">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="OpencypherCoq.Translation2.html#pi0:16"><span class="id" title="variable">pi0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi':15"><span class="id" title="variable">pi'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.Translation2.html#pi':15"><span class="id" title="variable">pi'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.empty"><span class="id" title="constructor">PatternSlice.empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.Translation2.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi0:16"><span class="id" title="variable">pi0</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi0:16"><span class="id" title="variable">pi0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.Translation2.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:14"><span class="id" title="variable">pi</span></a> (<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.Traverse"><span class="id" title="constructor">Traverse</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi':15"><span class="id" title="variable">pi'</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.vname"><span class="id" title="projection">Pattern.vname</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.last"><span class="id" title="definition">Pattern.last</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi0:16"><span class="id" title="variable">pi0</span></a>)) (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi0:16"><span class="id" title="variable">pi0</span></a>))) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="pi:18" class="idref" href="#pi:18"><span class="id" title="binder">pi</span></a>, <a class="idref" href="OpencypherCoq.Translation2.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:18"><span class="id" title="variable">pi</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:18"><span class="id" title="variable">pi</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">pi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">pi</span>, (<a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_all_with_paths"><span class="id" title="definition">PatternSlice.split_all_with_paths</span></a> <span class="id" title="var">pi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_all_with_paths_ind"><span class="id" title="lemma">PatternSlice.split_all_with_paths_ind</span></a>; <span class="id" title="var">ins</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_first"><span class="id" title="lemma">PatternSlice.split_first</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_start_type" class="idref" href="#translate_start_type"><span class="id" title="lemma">translate_start_type</span></a> <a id="pv:19" class="idref" href="#pv:19"><span class="id" title="binder">pv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.type_of"><span class="id" title="definition">type_of</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:19"><span class="id" title="variable">pv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.Semantics.html#PatternT.type_of"><span class="id" title="definition">PatternT.type_of</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Mixed"><span class="id" title="constructor">Mixed</span></a> (<a class="idref" href="OpencypherCoq.Cypher.html#Pattern.start"><span class="id" title="constructor">Pattern.start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:19"><span class="id" title="variable">pv</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="OpencypherCoq.Translation.html#translate_pvertex_type"><span class="id" title="lemma">translate_pvertex_type</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_pattern'_type" class="idref" href="#translate_pattern'_type"><span class="id" title="lemma">translate_pattern'_type</span></a> <a id="pi:20" class="idref" href="#pi:20"><span class="id" title="binder">pi</span></a> (<a id="Hwf:21" class="idref" href="#Hwf:21"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:20"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.type_of"><span class="id" title="definition">type_of</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:20"><span class="id" title="variable">pi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.type_of"><span class="id" title="definition">PatternT.type_of</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Mixed"><span class="id" title="constructor">Mixed</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:20"><span class="id" title="variable">pi</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">pi</span>, (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <span class="id" title="var">pi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_ind"><span class="id" title="lemma">translate_pattern'_ind</span></a>; <span class="id" title="var">ins</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_start_type"><span class="id" title="lemma">translate_start_type</span></a>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_type_of"><span class="id" title="lemma">PatternSlice.split_type_of</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_pattern_type" class="idref" href="#translate_pattern_type"><span class="id" title="lemma">translate_pattern_type</span></a> <a id="pi:22" class="idref" href="#pi:22"><span class="id" title="binder">pi</span></a> (<a id="Hwf:23" class="idref" href="#Hwf:23"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:22"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.type_of"><span class="id" title="definition">type_of</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern"><span class="id" title="definition">translate_pattern</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:22"><span class="id" title="variable">pi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.type_of"><span class="id" title="definition">PatternT.type_of</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Explicit"><span class="id" title="constructor">Explicit</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:22"><span class="id" title="variable">pi</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern"><span class="id" title="definition">translate_pattern</span></a>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_type"><span class="id" title="lemma">translate_pattern'_type</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.explicit_projT_type_of"><span class="id" title="lemma">PatternT.explicit_projT_type_of</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_start_wf" class="idref" href="#translate_start_wf"><span class="id" title="lemma">translate_start_wf</span></a> <a id="pv:24" class="idref" href="#pv:24"><span class="id" title="binder">pv</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.wf"><span class="id" title="definition">ExecutionPlan.wf</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pv:24"><span class="id" title="variable">pv</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a>, <a class="idref" href="OpencypherCoq.Translation.html#translate_pvertex"><span class="id" title="definition">translate_pvertex</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">desf</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">splits</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Maps.html#PartialMap.update_eq"><span class="id" title="lemma">PartialMap.update_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_pattern'_wf" class="idref" href="#translate_pattern'_wf"><span class="id" title="lemma">translate_pattern'_wf</span></a> <a id="pi:25" class="idref" href="#pi:25"><span class="id" title="binder">pi</span></a> (<a id="Hwf:26" class="idref" href="#Hwf:26"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:25"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.wf"><span class="id" title="definition">ExecutionPlan.wf</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:25"><span class="id" title="variable">pi</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_dep</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">pi</span>, (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <span class="id" title="var">pi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_ind"><span class="id" title="lemma">translate_pattern'_ind</span></a>; <span class="id" title="var">ins</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_start_wf"><span class="id" title="lemma">translate_start_wf</span></a>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_type"><span class="id" title="lemma">translate_pattern'_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">splits</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_type_of_last"><span class="id" title="lemma">PatternSlice.split_type_of_last</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_slice"><span class="id" title="lemma">PatternSlice.split_wf_slice</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_pattern"><span class="id" title="lemma">PatternSlice.split_wf_pattern</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="translate_pattern_wf" class="idref" href="#translate_pattern_wf"><span class="id" title="lemma">translate_pattern_wf</span></a> <a id="pi:27" class="idref" href="#pi:27"><span class="id" title="binder">pi</span></a> (<a id="Hwf:28" class="idref" href="#Hwf:28"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:27"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.wf"><span class="id" title="definition">ExecutionPlan.wf</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern"><span class="id" title="definition">translate_pattern</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:27"><span class="id" title="variable">pi</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern"><span class="id" title="definition">translate_pattern</span></a>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_wf"><span class="id" title="lemma">translate_pattern'_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Theorem&nbsp;translate_pattern'_wf_slice&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="EvalQueryImpl2" class="idref" href="#EvalQueryImpl2"><span class="id" title="module">EvalQueryImpl2</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.Spec"><span class="id" title="module">ExecutionPlan.Spec</span></a>) : <a class="idref" href="OpencypherCoq.Semantics.html#EvalQuery.Spec"><span class="id" title="module">EvalQuery.Spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="EvalQueryImpl2.EvalPlanImpl" class="idref" href="#EvalQueryImpl2.EvalPlanImpl"><span class="id" title="module">EvalPlanImpl</span></a> := <a class="idref" href="OpencypherCoq.ExecutionPlan.html#ExecutionPlan.EvalPlan"><span class="id" title="module">EvalPlan</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#S"><span class="id" title="module">S</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Translation2.html#S"><span class="id" title="module">S</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.EvalPlanImpl"><span class="id" title="module">EvalPlanImpl</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EvalQueryImpl2.eval_match_clause" class="idref" href="#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> (<a id="graph:29" class="idref" href="#graph:29"><span class="id" title="binder">graph</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.t"><span class="id" title="record">PropertyGraph.t</span></a>) (<a id="pi:30" class="idref" href="#pi:30"><span class="id" title="binder">pi</span></a> : <a class="idref" href="OpencypherCoq.Cypher.html#Pattern.t"><span class="id" title="inductive">Pattern.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="OpencypherCoq.BindingTable.html#BindingTable.t"><span class="id" title="definition">BindingTable.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="plan:31" class="idref" href="#plan:31"><span class="id" title="binder">plan</span></a> := <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern"><span class="id" title="definition">translate_pattern</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:30"><span class="id" title="variable">pi</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval"><span class="id" title="definition">EvalPlanImpl.eval</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:29"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#plan:31"><span class="id" title="variable">plan</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_start"><span class="id" title="definition">translate_start</span></a>, <a class="idref" href="OpencypherCoq.Translation.html#translate_pvertex"><span class="id" title="definition">translate_pvertex</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf</span>; <span class="id" title="var">simpls</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Utils.html#option_bind"><span class="id" title="definition">option_bind</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">desf</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="EvalQueryImpl2.match_clause_wf" class="idref" href="#EvalQueryImpl2.match_clause_wf"><span class="id" title="lemma">match_clause_wf</span></a> <a id="graph:32" class="idref" href="#graph:32"><span class="id" title="binder">graph</span></a> <a id="pi:33" class="idref" href="#pi:33"><span class="id" title="binder">pi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf_g:34" class="idref" href="#Hwf_g:34"><span class="id" title="binder">Hwf_g</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.wf"><span class="id" title="record">PropertyGraph.wf</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:32"><span class="id" title="variable">graph</span></a>) (<a id="Hwf:35" class="idref" href="#Hwf:35"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:33"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="table':36" class="idref" href="#table':36"><span class="id" title="binder">table'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:32"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:33"><span class="id" title="variable">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':36"><span class="id" title="variable">table'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_wf"><span class="id" title="lemma">eval_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern_wf"><span class="id" title="lemma">translate_pattern_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="EvalQueryImpl2.match_clause_type" class="idref" href="#EvalQueryImpl2.match_clause_type"><span class="id" title="lemma">match_clause_type</span></a> <a id="graph:37" class="idref" href="#graph:37"><span class="id" title="binder">graph</span></a> <a id="pi:38" class="idref" href="#pi:38"><span class="id" title="binder">pi</span></a> <a id="table':39" class="idref" href="#table':39"><span class="id" title="binder">table'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hres:40" class="idref" href="#Hres:40"><span class="id" title="binder">Hres</span></a> : <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:37"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:38"><span class="id" title="variable">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':39"><span class="id" title="variable">table'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf:41" class="idref" href="#Hwf:41"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:38"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.BindingTable.html#BindingTable.of_type"><span class="id" title="definition">BindingTable.of_type</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':39"><span class="id" title="variable">table'</span></a> (<a class="idref" href="OpencypherCoq.Semantics.html#PatternT.type_of"><span class="id" title="definition">PatternT.type_of</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Explicit"><span class="id" title="constructor">Explicit</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:38"><span class="id" title="variable">pi</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_type_of"><span class="id" title="lemma">eval_type_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern_type"><span class="id" title="lemma">translate_pattern_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hres</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern_wf"><span class="id" title="lemma">translate_pattern_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EvalQueryImpl2.eval_translate_pattern'_spec" class="idref" href="#EvalQueryImpl2.eval_translate_pattern'_spec"><span class="id" title="lemma">eval_translate_pattern'_spec</span></a> <a id="graph:42" class="idref" href="#graph:42"><span class="id" title="binder">graph</span></a> <a id="path:43" class="idref" href="#path:43"><span class="id" title="binder">path</span></a> <a id="pi:44" class="idref" href="#pi:44"><span class="id" title="binder">pi</span></a> <a id="table':45" class="idref" href="#table':45"><span class="id" title="binder">table'</span></a> <a id="r':46" class="idref" href="#r':46"><span class="id" title="binder">r'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hres:47" class="idref" href="#Hres:47"><span class="id" title="binder">Hres</span></a> : <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:42"><span class="id" title="variable">graph</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:44"><span class="id" title="variable">pi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':45"><span class="id" title="variable">table'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf_G:48" class="idref" href="#Hwf_G:48"><span class="id" title="binder">Hwf_G</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.wf"><span class="id" title="record">PropertyGraph.wf</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:42"><span class="id" title="variable">graph</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf:49" class="idref" href="#Hwf:49"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:44"><span class="id" title="variable">pi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hmatch:50" class="idref" href="#Hmatch:50"><span class="id" title="binder">Hmatch</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches"><span class="id" title="inductive">Path.matches</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Mixed"><span class="id" title="constructor">Mixed</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:42"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':46"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#path:43"><span class="id" title="variable">path</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:44"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':46"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':45"><span class="id" title="variable">table'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen_dep</span> <span class="id" title="var">Hres</span> <span class="id" title="var">r'</span> <span class="id" title="var">table'</span> <span class="id" title="var">path</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">pi</span>, (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <span class="id" title="var">pi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_ind"><span class="id" title="lemma">translate_pattern'_ind</span></a>; <span class="id" title="var">ins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">inv</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.filter_vertices_by_label_spec"><span class="id" title="axiom">filter_vertices_by_label_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Maps.html#PartialMap.update_eq"><span class="id" title="lemma">PartialMap.update_eq</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.scan_vertices_spec"><span class="id" title="axiom">scan_vertices_spec</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.PatternE.html#PathSlice.matches_split_inv"><span class="id" title="lemma">PathSlice.matches_split_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.traverse_spec"><span class="id" title="axiom">traverse_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_pattern"><span class="id" title="lemma">PatternSlice.split_wf_pattern</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches_type_of"><span class="id" title="lemma">Path.matches_type_of</span></a>; <span class="id" title="tactic">eauto</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_slice"><span class="id" title="lemma">PatternSlice.split_wf_slice</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="EvalQueryImpl2.match_clause_spec" class="idref" href="#EvalQueryImpl2.match_clause_spec"><span class="id" title="lemma">match_clause_spec</span></a> <a id="graph:51" class="idref" href="#graph:51"><span class="id" title="binder">graph</span></a> <a id="path:52" class="idref" href="#path:52"><span class="id" title="binder">path</span></a> <a id="pi:53" class="idref" href="#pi:53"><span class="id" title="binder">pi</span></a> <a id="table':54" class="idref" href="#table':54"><span class="id" title="binder">table'</span></a> <a id="r':55" class="idref" href="#r':55"><span class="id" title="binder">r'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hres:56" class="idref" href="#Hres:56"><span class="id" title="binder">Hres</span></a> : <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:51"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:53"><span class="id" title="variable">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':54"><span class="id" title="variable">table'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf_G:57" class="idref" href="#Hwf_G:57"><span class="id" title="binder">Hwf_G</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.wf"><span class="id" title="record">PropertyGraph.wf</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:51"><span class="id" title="variable">graph</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf:58" class="idref" href="#Hwf:58"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:53"><span class="id" title="variable">pi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hmatch:59" class="idref" href="#Hmatch:59"><span class="id" title="binder">Hmatch</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches"><span class="id" title="inductive">Path.matches</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Explicit"><span class="id" title="constructor">Explicit</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:51"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':55"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#path:52"><span class="id" title="variable">path</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:53"><span class="id" title="variable">pi</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':55"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':54"><span class="id" title="variable">table'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmatch'</span> := <span class="id" title="var">Hmatch</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches_explicit_exists_proj"><span class="id" title="lemma">Path.matches_explicit_exists_proj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmatch'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> ?]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches_both_modes"><span class="id" title="lemma">Path.matches_both_modes</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">r</span> := <span class="id" title="var">r'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.return_all_spec"><span class="id" title="axiom">return_all_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_translate_pattern'_spec"><span class="id" title="lemma">eval_translate_pattern'_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EvalQueryImpl2.eval_translate_pattern'_spec'" class="idref" href="#EvalQueryImpl2.eval_translate_pattern'_spec'"><span class="id" title="lemma">eval_translate_pattern'_spec'</span></a> <a id="graph:60" class="idref" href="#graph:60"><span class="id" title="binder">graph</span></a> <a id="pi:61" class="idref" href="#pi:61"><span class="id" title="binder">pi</span></a> <a id="table':62" class="idref" href="#table':62"><span class="id" title="binder">table'</span></a> <a id="r':63" class="idref" href="#r':63"><span class="id" title="binder">r'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hres:64" class="idref" href="#Hres:64"><span class="id" title="binder">Hres</span></a> : <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:60"><span class="id" title="variable">graph</span></a> (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:61"><span class="id" title="variable">pi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':62"><span class="id" title="variable">table'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hg_wf:65" class="idref" href="#Hg_wf:65"><span class="id" title="binder">Hg_wf</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.wf"><span class="id" title="record">PropertyGraph.wf</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:60"><span class="id" title="variable">graph</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf:66" class="idref" href="#Hwf:66"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:61"><span class="id" title="variable">pi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HIn:67" class="idref" href="#HIn:67"><span class="id" title="binder">HIn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':63"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':62"><span class="id" title="variable">table'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="path:68" class="idref" href="#path:68"><span class="id" title="binder">path</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches"><span class="id" title="inductive">Path.matches</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Mixed"><span class="id" title="constructor">Mixed</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:60"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':63"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#path:68"><span class="id" title="variable">path</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:61"><span class="id" title="variable">pi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen_dep</span> <span class="id" title="var">Hres</span> <span class="id" title="var">r'</span> <span class="id" title="var">table'</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">pi</span>, (<a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'"><span class="id" title="definition">translate_pattern'</span></a> <span class="id" title="var">pi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_ind"><span class="id" title="lemma">translate_pattern'_ind</span></a>; <span class="id" title="var">ins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="OpencypherCoq.Translation2.html#S.filter_by_label"><span class="id" title="axiom">filter_by_label</span></a> <a class="idref" href="OpencypherCoq.ExecutionPlan.html#FilterMode.Vertices"><span class="id" title="constructor">Vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.filter_vertices_by_label_spec'"><span class="id" title="axiom">filter_vertices_by_label_spec'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">desf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="OpencypherCoq.Translation2.html#S.scan_vertices"><span class="id" title="axiom">scan_vertices</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.scan_vertices_spec'"><span class="id" title="axiom">scan_vertices_spec'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="var">desf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eexists</span> (<a class="idref" href="OpencypherCoq.Semantics.html#Path.start"><span class="id" title="constructor">Path.start</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> <a class="idref" href="OpencypherCoq.Maps.html#deb52357a4192e7613931b62ac8859b3"><span class="id" title="notation">|-&gt;</span></a> ?<span class="id" title="var">v</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="OpencypherCoq.Semantics.html#e397ef6604d153881bd43148d0207752"><span class="id" title="notation">M</span></a><a class="idref" href="OpencypherCoq.Semantics.html#e397ef6604d153881bd43148d0207752"><span class="id" title="notation">|-&gt;</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">ins</span>; <span class="id" title="var">desf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf_unfold_pat</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.traverse_spec'"><span class="id" title="axiom">traverse_spec'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">edestruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_pattern"><span class="id" title="lemma">PatternSlice.split_wf_pattern</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> (<a class="idref" href="OpencypherCoq.PatternE.html#PathSlice.append"><span class="id" title="definition">PathSlice.append</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.PatternE.html#PathSlice.matches_split"><span class="id" title="lemma">PathSlice.matches_split</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_type_of"><span class="id" title="lemma">eval_type_of</span></a>, <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_wf"><span class="id" title="lemma">translate_pattern'_wf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_pattern"><span class="id" title="lemma">PatternSlice.split_wf_pattern</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpencypherCoq.Translation2.html#translate_pattern'_type"><span class="id" title="lemma">translate_pattern'_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_slice"><span class="id" title="lemma">PatternSlice.split_wf_slice</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpencypherCoq.PatternE.html#PatternSlice.split_wf_pattern"><span class="id" title="lemma">PatternSlice.split_wf_pattern</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="EvalQueryImpl2.match_clause_spec'" class="idref" href="#EvalQueryImpl2.match_clause_spec'"><span class="id" title="lemma">match_clause_spec'</span></a> <a id="graph:69" class="idref" href="#graph:69"><span class="id" title="binder">graph</span></a> <a id="pi:70" class="idref" href="#pi:70"><span class="id" title="binder">pi</span></a> <a id="table':71" class="idref" href="#table':71"><span class="id" title="binder">table'</span></a> <a id="r':72" class="idref" href="#r':72"><span class="id" title="binder">r'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hres:73" class="idref" href="#Hres:73"><span class="id" title="binder">Hres</span></a> : <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_match_clause"><span class="id" title="definition">eval_match_clause</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:69"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:70"><span class="id" title="variable">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':71"><span class="id" title="variable">table'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hg_wf:74" class="idref" href="#Hg_wf:74"><span class="id" title="binder">Hg_wf</span></a> : <a class="idref" href="OpencypherCoq.PropertyGraph.html#PropertyGraph.wf"><span class="id" title="record">PropertyGraph.wf</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:69"><span class="id" title="variable">graph</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hwf:75" class="idref" href="#Hwf:75"><span class="id" title="binder">Hwf</span></a> : <a class="idref" href="OpencypherCoq.Semantics.html#PatternT.wfT"><span class="id" title="inductive">PatternT.wfT</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:70"><span class="id" title="variable">pi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HIn:76" class="idref" href="#HIn:76"><span class="id" title="binder">HIn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':72"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#table':71"><span class="id" title="variable">table'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="path:77" class="idref" href="#path:77"><span class="id" title="binder">path</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches"><span class="id" title="inductive">Path.matches</span></a> <a class="idref" href="OpencypherCoq.Semantics.html#MatchMode.Explicit"><span class="id" title="constructor">Explicit</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#graph:69"><span class="id" title="variable">graph</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#r':72"><span class="id" title="variable">r'</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#path:77"><span class="id" title="variable">path</span></a> <a class="idref" href="OpencypherCoq.Translation2.html#pi:70"><span class="id" title="variable">pi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">desf_match_result</span> <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Translation2.html#S.return_all_spec'"><span class="id" title="axiom">return_all_spec'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HIn</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">desf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2.eval_translate_pattern'_spec'"><span class="id" title="lemma">eval_translate_pattern'_spec'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpencypherCoq.Semantics.html#Path.matches_explicit_proj"><span class="id" title="lemma">Path.matches_explicit_proj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="OpencypherCoq.Translation2.html#EvalQueryImpl2"><span class="id" title="module">EvalQueryImpl2</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
